CXX = g++
CXXFLAGS = -Wall

PROG1 = a2_q2_demonstration
PROG2 = a2_q2_multiple_stack
PROG3 = a2_q2_part3

all: $(PROG1) $(PROG2) $(PROG3)

$(PROG1): a2_q2_demonstration.o stack_func.o
	$(CXX) $(CXXFLAGS) -o $(PROG1) a2_q2_demonstration.o stack_func.o

a2_q2_demonstration.o: a2_q2_demonstration.cpp stack_mod.h
	$(CXX) $(CXXFLAGS) -c a2_q2_demonstration.cpp

$(PROG2): a2_q2_multiple_stack.o stack_func.o
	$(CXX) $(CXXFLAGS) -o $(PROG2) a2_q2_multiple_stack.o stack_func.o

a2_q2_multiple_stack.o: a2_q2_multiple_stack.cpp stack_mod.h
	$(CXX) $(CXXFLAGS) -c a2_q2_multiple_stack.cpp


$(PROG3): a2_q2_part3.o stack_func.o
	$(CXX) $(CXXFLAGS) -o $(PROG3) a2_q2_part3.o stack_func.o

a2_q2_part3.o: a2_q2_part3.cpp stack_mod.h
	$(CXX) $(CXXFLAGS) -c a2_q2_part3.cpp


stack_func.o: stack_func.cpp stack_mod.h
	$(CXX) $(CXXFLAGS) -c stack_func.cpp

clean:
	rm -f *.o $(PROG1) $(PROG2) $(PROG3)